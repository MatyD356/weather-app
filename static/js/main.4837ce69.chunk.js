(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(50),i=a.n(c),o=(a(69),a(70),a(30)),l=a.n(o),s=a(51),u=a(12),m=a(52),d=a(53),f=a(62),h=a(61),p=(a(72),a(7)),E=a(54),b=(a(171),function(e){var t=Object(n.useState)("Temp"),a=Object(p.a)(t,2),c=a[0],i=a[1],o={legend:{display:!1},title:{display:!1},scales:{type:"time",xAxes:[{display:!0,ticks:{display:!0,fontColor:"white"},gridLines:{color:"transparent",zeroLineColor:"transparent"}}],yAxes:[{ticks:{stepSize:4,fontColor:"white",callback:function(t){return a=t,"Temp"===c?e.unit?a+" \xb0C":a+" \xb0F":"Pressure"===c?a+" hPa":"Humidity"===c?a+" %":void 0;var a}},gridLines:{color:"transparent"}}]},tooltips:{enabled:!0,caretSize:10,backgroundColor:"rgba(255,255,255,0.1)"}},l={labels:Object(u.a)(e.apiData.map((function(e){return e.dt_txt.slice(10,16)}))),datasets:[{label:c,fill:!0,lineTension:.35,backgroundColor:"rgba(255,255,255,0.4)",borderColor:"rgba(255,255,255,0.75)",data:"Temp"===c?e.unit?e.apiData.map((function(t){return e.toCelsius(t.main.temp)})):e.apiData.map((function(t){return e.toFarenheit(t.main.temp)})):"Pressure"===c?e.apiData.map((function(e){return e.main.pressure})):"Humidity"===c?e.apiData.map((function(e){return e.main.humidity})):void 0}]};return r.a.createElement("div",null,r.a.createElement("button",{className:"CardChart button",onClick:function(){i("Temp")}},"Temp"),r.a.createElement("button",{className:"CardChart button",onClick:function(){i("Pressure")}},"Pressure"),r.a.createElement("button",{className:"CardChart button",onClick:function(){i("Humidity")}},"Humidity"),r.a.createElement(E.Line,{data:l,options:o}))}),y=(a(172),function(e){return r.a.createElement("div",{className:"Card-temp"},r.a.createElement("div",{className:"Card-temp-switch"},r.a.createElement("p",null,e.unit?"".concat(e.toCelsius(e.apiData[e.i].main.temp),"\xb0C"):"".concat(e.toFarenheit(e.apiData[e.i].main.temp),"\xb0F")),r.a.createElement("div",{className:"on-off-switch"},r.a.createElement("input",{type:"checkbox",id:e.id,className:"on-off-switch-checkbox",onChange:e.handleSwitch,checked:e.unit}),r.a.createElement("label",{className:"on-off-switch-label",htmlFor:e.id},r.a.createElement("span",{className:"on-off-switch-inner"}),r.a.createElement("span",{className:"on-off-switch-switch"})))))}),C=(a(173),a(55)),g=a.n(C),v=a(57),w=a.n(v),D=function(e){return r.a.createElement("div",{className:"Card-time"},r.a.createElement("button",{className:"Card-hour-up btn",onClick:e.decrementI},r.a.createElement(g.a,{style:{fontSize:40}})),r.a.createElement("h2",{className:"Card-time-display"},e.apiData[e.i].dt_txt.slice(10,16)),r.a.createElement("button",{className:"Card-hour-up btn",onClick:e.incrementI},r.a.createElement(w.a,{style:{fontSize:40}})))},N=(a(177),function(e){return r.a.createElement("div",{className:"Card-day"},r.a.createElement("h2",null,e.getDayOfWeek(e.data.list)),r.a.createElement("p",null,e.data.city.name," | ",e.data.city.country),r.a.createElement("div",{className:"Card-date"},r.a.createElement("h2",null,"Date:"),r.a.createElement("p",null,e.data.list[0].dt_txt.slice(0,10))))}),S=(a(178),function(e){return r.a.createElement("div",{className:"Card-weather"},e.ChoseIcon(e.apiData)[0],r.a.createElement("h2",null,"Weather:"),r.a.createElement("p",null,e.apiData[e.i].weather[0].description))}),k=(a(179),a(60)),O=a.n(k),j=a(33),z=a.n(j),x=a(13),T=a.n(x),I=a(31),L=a.n(I),F=a(32),M=a.n(F),P=a(59),H=a.n(P),W=a(58),_=a.n(W),A=function(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(0),l=Object(p.a)(o,2),s=l[0],u=l[1],m=Object(n.useState)(!0),d=Object(p.a)(m,2),f=d[0],h=d[1];Object(n.useEffect)((function(){i(e.data),e.data.list&&8===e.data.list.length&&u(4)}),[e.data]);var E=function(e){return Math.round(100*(e-273.15+Number.EPSILON))/100},C=function(e){return Math.round(100*(1.8*e-459.67+Number.EPSILON))/100},g=function(e){var t=new Date(e[s].dt_txt).getHours();switch(e[s].weather[0].main){case"Thunderstorm":return t>18||t<6?[r.a.createElement(L.a,{style:{fontSize:200}}),"cold"]:[r.a.createElement(L.a,{style:{fontSize:200}}),"storm"];case"Drizzle":case"Rain":return t>18||t<6?[r.a.createElement(T.a,{style:{fontSize:200}}),"cold"]:[r.a.createElement(T.a,{style:{fontSize:200}}),"rainy"];case"Snow":return[r.a.createElement(_.a,{style:{fontSize:200}}),"cold"];case"Mist":return t>18||t<6?[r.a.createElement(M.a,{style:{fontSize:200}}),"cold"]:[r.a.createElement(M.a,{style:{fontSize:200}}),"mild"];case"Clouds":return t>18||t<6?[r.a.createElement(z.a,{style:{fontSize:200}}),"cold"]:[r.a.createElement(z.a,{style:{fontSize:200}}),"mild"];default:return t>18||t<6?[r.a.createElement(H.a,{style:{fontSize:200}}),"cold"]:[r.a.createElement(O.a,{style:{fontSize:200}}),"hot"]}},v=function(e){console.log(e)};return r.a.createElement("div",{onTouchStart:v,onTouchMove:v,className:c&&!e.loading?"Card ".concat(g(c.list)[1]):"Card"},!0===e.loading?r.a.createElement("div",{className:"Card-loading"},r.a.createElement("div",{className:"Card-spinner"})):c?r.a.createElement("div",{className:"Card-content"},r.a.createElement("div",{className:"container"},r.a.createElement(N,{getDayOfWeek:function(e){return["Sunday","Monday","Tuesday","Wendnesday","Thursday","Friday","Saturday"][new Date(e[s].dt_txt.slice(0,10)).getDay()]},data:c})),r.a.createElement(S,{i:s,apiData:c.list,ChoseIcon:g}),r.a.createElement("div",{className:"container"},r.a.createElement(D,{incrementI:function(){return s<c.list.length-1?u(s+1):null},decrementI:function(){return s>0?u(s-1):null},apiData:c.list,i:s})),r.a.createElement(y,{id:e.id,i:s,unit:f,handleSwitch:function(){h(!f)},toFarenheit:C,toCelsius:E,apiData:c.list}),r.a.createElement("div",{className:"container"},r.a.createElement(b,{unit:f,toCelsius:E,toFarenheit:C,apiData:c.list}))):null)},B=a(193),J=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).sortData=function(e,t){for(var a=[],r=8-Math.floor((new Date).getHours()/3),c=0;c<e.length;c+=8)c<8?a.push(Object.assign({},t,{list:Object(u.a)(e.slice(c,r+c))})):a.push(Object.assign({},t,{list:Object(u.a)(e.slice(r+c-8,r+c))}));n.setState({sorted:a})},n.changeLoding=function(){n.setState({loadingData:!n.state.loadingData})},n.state={currentDay:(new Date).getDay(),loadingData:null,sorted:[[],[],[],[],[]],data:{}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.changeLoding(),e.prev=1,"moscow","2e980521e0395ecf36d00123a808c9f5",t="http://api.openweathermap.org/data/2.5/forecast?q=".concat("moscow","&appid=").concat("2e980521e0395ecf36d00123a808c9f5"),e.next=7,fetch(t,{mode:"cors"});case 7:return a=e.sent,e.next=10,a.json().then((function(e){return n.sortData(e.list,e),setTimeout((function(){return n.changeLoding()}),1e3),e}));case 10:e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"CardContainer"},this.state.sorted.map((function(t,a){return r.a.createElement(A,{id:Object(B.a)(),key:a,loading:e.state.loadingData,data:t})})))}}]),a}(r.a.Component),q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e,t,a){e.exports=a(181)},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.4837ce69.chunk.js.map